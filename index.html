<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>index</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap-7f219b33698c064b9138a8da64cf8bdb.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">




<section id="online-reports-and-narrations-of-flood-events-worldwide" class="level1">
<h1>Online reports and narrations of flood events worldwide</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glitter)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(svglite)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co">#source("scripts/plot_random_forest.R")</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># devtools::install_github("juba/rainette") </span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># install dev version to have custom colors and labels</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rainette)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">9999</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>col_WD<span class="ot">=</span><span class="st">"#e82a8e"</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>col_WD_medium<span class="ot">=</span><span class="st">"#f17fbb"</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>col_WD_soft<span class="ot">=</span><span class="st">"#fad4e8"</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>col_DFO<span class="ot">=</span><span class="st">"#607d73"</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>col_DFO_WD<span class="ot">=</span><span class="st">"#670525"</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>signif_stars<span class="ot">=</span><span class="cf">function</span>(signif){</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  result<span class="ot">=</span><span class="fu">case_when</span>(signif<span class="sc">&lt;</span><span class="fl">0.001</span><span class="sc">~</span><span class="st">"***"</span>,</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>                   signif<span class="sc">&lt;</span><span class="fl">0.01</span><span class="sc">~</span><span class="st">"**"</span>,</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>                   signif<span class="sc">&lt;</span><span class="fl">0.05</span><span class="sc">~</span><span class="st">"*"</span>,</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>                   signif<span class="sc">&lt;</span><span class="fl">0.1</span> <span class="sc">~</span><span class="st">"."</span>,</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>                   <span class="cn">TRUE</span><span class="sc">~</span><span class="st">""</span>)</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(result)</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>compare_medians<span class="ot">=</span><span class="cf">function</span>(tib,<span class="at">general=</span><span class="cn">FALSE</span>){</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(general<span class="sc">==</span><span class="cn">FALSE</span>){</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>      result<span class="ot">=</span>tib <span class="sc">%&gt;%</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">group_by</span>(x) <span class="sc">%&gt;%</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">mediany=</span><span class="fu">median</span>(vary,<span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">select</span>(mediany) <span class="sc">%&gt;%</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">pull</span>() <span class="sc">%&gt;%</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">diff</span>()</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(general<span class="sc">==</span><span class="cn">TRUE</span>){</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>      median_other<span class="ot">=</span>tib <span class="sc">%&gt;%</span> <span class="fu">filter</span>(x<span class="sc">==</span><span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(vary) <span class="sc">%&gt;%</span> <span class="fu">median</span>(<span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>      median_cat<span class="ot">=</span>tib <span class="sc">%&gt;%</span> <span class="fu">filter</span>(x<span class="sc">==</span><span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(vary) <span class="sc">%&gt;%</span> <span class="fu">median</span>(<span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>      result<span class="ot">=</span>median_cat<span class="sc">-</span>median_other</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(result)</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>res<span class="ot">=</span><span class="dv">144</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"scripts/calc_tib_summary.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>wd_events<span class="ot">=</span><span class="fu">readRDS</span>(<span class="st">"data/wd_events.RDS"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>wm_full<span class="ot">=</span><span class="fu">readRDS</span>(<span class="st">"data/wm_full.RDS"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>wp_20_words_per_event<span class="ot">=</span><span class="fu">readRDS</span>(<span class="st">"data/wp_20_words_per_event.RDS"</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>wm_full<span class="ot">=</span>wm_full <span class="sc">%&gt;%</span> </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(wp_20_words_per_event, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"flood"</span>))</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>dfo_comp<span class="ot">=</span><span class="fu">readRDS</span>(<span class="st">"data/dfo_comp.RDS"</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">#wm_comp=readRDS("data/wm_comp.RDS")</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">#wm_dfo=readRDS("data/wm_dfo.RDS")</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co">#wm_dfo_corr=readRDS("data/wm_dfo_corr.RDS")</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>wp_pages<span class="ot">=</span><span class="fu">readRDS</span>(<span class="st">"data/wp_pages.RDS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="abstract" class="level1">
<h1>Abstract</h1>
<p>The consequences of flooding on Humans is difficult to document on a large scale, especially beyond readily quantifiable damage such as deathtoll or number of people displaced by the event. This study explores the use of Wikidata and Wikipedia as viable sources for the analysis of flooding occurrence and consequences. We evaluate the reliability and scope of these platforms despite inherent challenges such as geographical biases and inconsistencies in data. By juxtaposing this dataset with an established flood database, we investigate the conditions and extent of the contents generated on these platforms. Our findings indicate that Wikidata and Wikipedia are particularly valuable for providing not only detailed textual descriptions and social context but also insights into the public’s interest and engagement with flood events. Our analysis highlights that the creation, content, and diffusion of Wikidata and Wikipedia entries are influenced by factors including geographical location, social context, and event’s severity. This underscores the potential of these platforms as complementary tools in disaster management and research.</p>
<p>Key Points:</p>
<ul>
<li>The study compares flood events-related entries on Wikidata and Wikipedia with a traditional flood database, examining the factors that influence the creation and detail of these entries.</li>
<li>Wikidata and Wikipedia offer credible and extensive information about floods, despite challenges in data consistency and geographical representation.</li>
<li>These platforms provide valuable context and measure public interest in flood events, offering a complementary perspective to better understand their stakes and possibly enhancing the richness of traditional data sources</li>
</ul>
<section id="keywords" class="level3">
<h3 class="anchored" data-anchor-id="keywords">Keywords</h3>
<p>Wikidata; Wikipedia; Crowd-sourced data; Social context; Public interest; Flood; Disaster management;</p>
</section>
</section>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>A flood is a natural disaster characterized by the overflow of water onto normally dry land, which can result from various factors, including heavy rainfall, snowmelt, storm surges, or the failure of dams or levees. It can occur gradually over an extended period or suddenly, and might cause damage to humans, infrastructure and ecosystems with varying degrees of severity, ranging from minor flooding to catastrophic events causing widespread destruction and deathtoll. Understanding the dynamics of floods globally, including their causes, patterns, and impacts, is essential for effective anticipation, mitigation, and response to minimize their effects on communities and enhance resilience to these events <span class="citation" data-cites="doocy_human_2013">[@doocy_human_2013]</span>.</p>
<p>Although flooding is a normal part of the functioning of a hydrosystem and is beneficial to the environment, global flood damage has increased in recent decades, primarily because of the steady growth of urban populations and economic activities in flood-prone areas (Winsemius et al., 2016). Indeed, it is estimated that by 2050, 70% of the world’s population will live in urban areas vulnerable to flooding (da Silva et al., 2012). This risk is further exacerbated by global environmental change, in addition to anthropogenic pressures (IPCC, 2022). Within recent years, there has been a notable shift in flood risk management from risk-based approaches to resilience-based (Laidlaw and Percival, 2024), no longer seeking to control flooding, but to reduce its impact, particularly with the idea to take into account the different forms that this risk takes on a diversity of types of vulnerabilities. Indeed, there are many different types of flooding: by river overflow (including open-water flooding, i.e.&nbsp;without ice, and flooding caused by ice jams), by runoff, by marine submersion, by rising groundwater, due to infrastructure accidents… A global approach can allow us to understand this diversity, by pointing out global pressures in the Anthropocene, while showing how local representations and discourses of these events also provide global narratives.</p>
<p>A lot of country-based databases about floods exist -see for instance <span class="citation" data-cites="hilker_swiss_2009">@hilker_swiss_2009</span> for Switzerland, <span class="citation" data-cites="marsalek_database_2000">@marsalek_database_2000</span> for Netherlands, <span class="citation" data-cites="saharia_india_2021">@saharia_india_2021</span> for India-, but few global ones do, although by studying floods occurring in a large number of contexts, researchers are more likely to identify patterns and understand underlying causes such as climate change and land-use practices, and develop efficient strategies for governments, policymakers, urban planners, and disaster management agencies. Furthermore, understanding global flood dynamics can facilitate international collaboration and resource allocation, fostering a collective response to mitigate their consequences.</p>
<p>This is one of the rationale behind the Dartmouth Flood Observatory (DFO) <span class="citation" data-cites="brakenridge_global_nodate">[@brakenridge_global_nodate]</span>, which provides a global database of flood events. Combining remote sensing and news reports’ analysis, it produces detailed information on the extent, frequency, and impacts of floods worldwide from 1985 to this day <span class="citation" data-cites="kundzewicz_large_2013">[@kundzewicz_large_2013]</span> . It constitutes an invaluable source of information on the subject, used in many scientific studies on flood events <span class="citation" data-cites="doocy_human_2013 winsemius_framework_2013 hu_flood-induced_2018 najibi_recent_2018 tellman_satellite_2021">[@doocy_human_2013; @winsemius_framework_2013; @hu_flood-induced_2018; @najibi_recent_2018; @tellman_satellite_2021]</span>. Events detected through remote sensing are recorded in the database when experts assess they are significant enough in terms of damage or occurrence frequency, based on news or institutional sources <span class="citation" data-cites="doocy_human_2013">[@doocy_human_2013]</span>.</p>
<p>Producing a global flood event dataset poses numerous challenges due to the complex nature of data semantics, collection, standardization, and accessibility. A primary obstacle is the lack of uniform reporting standards leading to inconsistencies in definitions of flood events and in data collection methods. Varying technological capabilities (material access and practice’s acculturation) across geographical regions of the world also contribute to disparities in data availability. Disasters like floods might occur in areas where communication and infrastructure are limited, and/or not used for real-time data collection. Political, social, and economic factors also play a role, as some regions may under-report or document flood occurrences differently, due to reasons such as insufficient or different resources and infrastructures, or differences in water governance <span class="citation" data-cites="wehn_participation_2015">[@wehn_participation_2015]</span>. Additionally, there are inequalities in the geographies of data production that reflect and reproduce global economic core-peripheries <span class="citation" data-cites="graham_inequitable_2014 graham_towards_2015 haklay_why_2016n">[@graham_inequitable_2014; @graham_towards_2015; @haklay_why_2016n, @noucher_blancs_2023]</span>. <span class="citation" data-cites="ash_digital_2018">@ash_digital_2018</span> refers to some “informational magnetism” resulting in the over-representation of the global North (the “core”). As a result, and despite advancements in satellite technology and remote sensing, ensuring comprehensive, accurate, and up-to-date global flood data remains difficult. Overcoming this challenge requires better data curation, global efforts to improve information-sharing mechanisms, and the development of a critical eye on the reasons for data production, both in terms of contexts and uses.</p>
<section id="participatory-approaches" class="level2">
<h2 class="anchored" data-anchor-id="participatory-approaches">Participatory approaches</h2>
<p>Participatory data collection can significantly enhance the understanding and management of flood events. This approach involves engaging local communities, citizens, and grassroots organizations in the collection, analysis, and sharing of data related to flood occurrences. Examples of such initiatives show the potential of participatory data to complement institutional data about floods at a local scale <span class="citation" data-cites="dixon_role_2021 sekajugo_can_2022">[@dixon_role_2021; @sekajugo_can_2022]</span>. By incorporating local knowledge, experiences, and observations, participatory methods complement traditional data sources, offering valuable insights into flood-prone areas that might be overlooked by centralized or remote monitoring systems, controlled by certain systems in power (Nation-states, heterogeneous coalitions of technologically savvy individuals, private technology companies). More broadly, volunteered geographical data at a local scale have been shown to be a valuable source of data regarding hazards <span class="citation" data-cites="herfort_evolution_2021">[@herfort_evolution_2021]</span>.</p>
<p>Communities living in flood-prone regions possess unique, context-specific, even vernacular knowledge about local environmental changes, historical flood memory, vulnerable areas, and coping mechanisms. Engaging these communities in data collection through citizen science initiatives, mobile applications, community mapping, or participatory workshops allows for the collection of granular, real-time information that supplements existing datasets. Ideally, this bottom-up approach not only enhances the accuracy and granularity of flood data, but also fosters community empowerment in terms of resilience, by engaging all communities to participate, including those excluded from decision-making or digital access. Moreover, participatory data can bridge gaps in official reporting by capturing small-scale or localized flood events that are not publicized and thus recognized by institutions. Integrating participatory data with conventional datasets enables a more comprehensive understanding of flood dynamics, aiding in the development of anticipation policies, effective early warning systems, and disaster response plans.</p>
<p>However, challenges such as ensuring data accuracy, reliability, and standardization persist in participatory approaches. While establishing protocols for data validation and quality control between participatory and formal datasets is important to maximize the potential of participatory data and to maintain data integrity <span class="citation" data-cites="senaratne_review_2017">[@senaratne_review_2017]</span>, the participatory data can be standardized. In other words, the subtleties perceived by local communities can be smoothed out (i) in interfaces designed by situated engineers and (ii) in data collection via protocols designed by situated scientists. However, the stakes around data validation and homogenization are particularly high in the prospect of studying floods at a global scale.</p>
<p>Overall, leveraging participatory data in conjunction with conventional methods can enrich global flood databases, improve resilience, and empower communities to better respond to and mitigate the impacts of flood events. This collaborative approach can contribute significantly to more holistic and inclusive strategies for managing floods worldwide, to question (i) the data (how, by whom and for what purpose they are collected) and (ii) the collection process (highlighting ethnocentric biases by comparison).</p>
</section>
<section id="wikidata" class="level2">
<h2 class="anchored" data-anchor-id="wikidata">Wikidata</h2>
<p>In parallel to research-related, expert database such as the DFO dataset on the subject, the Wikimedia project stands as a remarkable source of structured or semi-structured participatory data with its vast array of user-generated content across platforms like Wikipedia, Wikidata, and Wikimedia Commons. Wikipedia, as one of the largest collaborative encyclopedias, and one of the most used and visited websites globally <span class="citation" data-cites="graham_towards_2015 ballatore_digital_2017">[@graham_towards_2015; @ballatore_digital_2017]</span> harnesses the collective knowledge of volunteers worldwide who contribute, edit, and curate articles on diverse subjects, including geographical features, history, and environmental events such as floods. It can be viewed both as a source of breaking news and as an encyclopedia, providing information and narrative regarding ongoing and past events, in particular crises and controversies <span class="citation" data-cites="moats_following_2019">[@moats_following_2019]</span>. Wikidata, an open database, provides structured data that can be used to categorize and link information, potentially cataloging flood events, affected regions, and relevant details. Wikimedia Commons serves as a repository for multimedia files, housing images, maps, and other visual resources related to floods, contributing to a more comprehensive understanding of such events. The open nature of Wikimedia projects allows for continual updates and contributions, making it a valuable resource for researchers, policymakers, and the public seeking information on various topics, including flood events, across the globe. The Wikimedia projects are an example of user-generated content on web 2.0 <span class="citation" data-cites="oreilly_4_2020">[@oreilly_4_2020]</span>. Moreover, flood events are generally associated with a location or toponymic information: as such, the produced data can also be included in what <span class="citation" data-cites="goodchild_citizens_2007">@goodchild_citizens_2007</span> calls “volunteered geographic information”.</p>
<p>Wikipedia articles have been studied in the context of managing crises due to its accessibility, comprehensiveness, and real-time updates, either focusing on content creation or consultation. This has been the case for e.g.&nbsp;epidemiologic crises <span class="citation" data-cites="van_velsen_should_2012 colavizza_covid-19_2020">[@van_velsen_should_2012; @colavizza_covid-19_2020]</span>, natural disasters, technological accidents and violent conflict <span class="citation" data-cites="keegan_hot_2013">[@keegan_hot_2013]</span>. During flood events, people might seek immediate information regarding safety measures, evacuation procedures, flood-prone areas, and emergency contacts. Wikipedia’s open editing structure allows for rapid dissemination of accurate information, enabling users to access critical details swiftly. Moreover, the collaborative nature of Wikipedia ensures that a vast array of perspectives and expertise contribute to its articles, resulting in comprehensive coverage of flood-related topics, including flood mitigation strategies, historical flood data, and relevant government responses. This breadth of information empowers individuals, communities, and organizations to make informed decisions and take effective action in response to floods, ultimately aiding in crisis management and mitigation efforts. Additionally, Wikipedia’s multilingual support ensures that its resources are accessible to a diverse, local audience, facilitating disaster response efforts in all regions affected by floods.</p>
<p>Like many volunteered mapping platforms, the Wikimedia projects are receiving growing interest from the research community <span class="citation" data-cites="farda-sarbas_wikidata_2019">[@farda-sarbas_wikidata_2019]</span>. As such, they are used in various projects: on the one hand, the content is employed directly as a data source, e.g.&nbsp;in history, literacy studies, archeology, philosophy <span class="citation" data-cites="zhao_systematic_2023">[@zhao_systematic_2023]</span>, linguistics <span class="citation" data-cites="turki_using_2017">[@turki_using_2017]</span>, medical and biological sciences <span class="citation" data-cites="farda-sarbas_wikidata_2019 burgstaller-muehlbacher_wikidata_2016">[@farda-sarbas_wikidata_2019; @burgstaller-muehlbacher_wikidata_2016]</span>, etc. or as an indicator of public interest <span class="citation" data-cites="mittermeier_using_2021">[@mittermeier_using_2021]</span>. On the other hand, studies consider the Wikimedia projects as a research object, e.g.&nbsp;analyzing the contributors’ motivations <span class="citation" data-cites="antin_my_2011">[@antin_my_2011]</span>, comparing their data to traditional databases <span class="citation" data-cites="lorini_uneven_2020">[@lorini_uneven_2020]</span>, evaluating completeness <span class="citation" data-cites="royal_whats_2009">[@royal_whats_2009]</span>, accuracy <span class="citation" data-cites="giles_internet_2005">[@giles_internet_2005]</span>, topic coverage <span class="citation" data-cites="halavais_analysis_2008">[@halavais_analysis_2008]</span>, local <span class="citation" data-cites="ballatore_digital_2017 ballatore_angeles_2020">[@ballatore_digital_2017; @ballatore_angeles_2020]</span> and global distribution <span class="citation" data-cites="graham_towards_2015 graham_uneven_2018">[@graham_towards_2015; @graham_uneven_2018]</span>, analyzing knowledge construction <span class="citation" data-cites="oeberst_knowledge_2014">[@oeberst_knowledge_2014]</span> and social network dynamics <span class="citation" data-cites="iba_analyzing_2010">[@iba_analyzing_2010]</span>, etc.</p>
<p>However, using a worldwide, crowdsourced, open database implies characterizing its contributors. Firstly, studies show that user-generated content is unequally distributed on a global scale: it is generally skewed towards countries from the Global North, whether it be in terms of participation, representation or access [<span class="citation" data-cites="graham_towards_2015">@graham_towards_2015</span>; <span class="citation" data-cites="ballatore_digital_2017">@ballatore_digital_2017</span>; <span class="citation" data-cites="graham_uneven_2018">@graham_uneven_2018</span>; ]. Research conducted on Wikipedia suggests that the platform follows the same pattern. For example, <span class="citation" data-cites="graham_inequitable_2014">@graham_inequitable_2014</span> shows that Europe and North America get the greatest number of articles per person. Secondly, participation tends to be skewed towards “a more wealthy, more educated, more Western, more white and more male demographic” <span class="citation" data-cites="crampton_beyond_2013">[@crampton_beyond_2013, p.132]</span>. For example, research on OpenStreetMap – an open and crowdsourced mapping platform – suggests that it reproduces the socio-economical structures <span class="citation" data-cites="bittner_diversity_2017">[@bittner_diversity_2017]</span>. The risk is that these crowdsourced platforms reproduce the inequalities, leaving economically and socially deprived areas also digitally deprived <span class="citation" data-cites="mashhadi_impact_2015">[@mashhadi_impact_2015]</span>. There is also a strong gender asymmetry on the web, contributing to gender-biased data <span class="citation" data-cites="stephens_gender_2013 gardner_quantifying_2020">[@stephens_gender_2013; @gardner_quantifying_2020]</span>.</p>
<p>Identifying the data distribution is capital for interpretation and analysis, given that the Wikimedia projects are user-generated and are therefore subjects to biases. The question “who produces the data?” must then be addressed. <span class="citation" data-cites="lorini_uneven_2020">@lorini_uneven_2020</span> studied the report of floods on the English Wikipedia portal through a thorough comparison to several other databases, questioning the conditions in which the articles were created. It offers valuable insight into the biases this dataset might be subject to, which we will keep in mind in our own questioning of the contents and reach of the articles using quantitative and textometric methods. To our knowledge, no such study has been conducted on the subject of floods using extensive Wikidata and multi-language Wikipedia articles.</p>
</section>
<section id="objectives" class="level2">
<h2 class="anchored" data-anchor-id="objectives">Objectives</h2>
<p>This study’s objectives are to</p>
<ul>
<li><ol type="1">
<li>collect and assess the information provided by Wikidata and Wikipedia on flood events.</li>
</ol></li>
<li><ol start="2" type="1">
<li>compare this data, which is crowdsourced, to an institutionally curated database on the same topic to estimate its validity and interest.</li>
</ol></li>
<li><ol start="3" type="1">
<li>use this data to characterize and understand (in terms of human impact especially) the flood events documented.</li>
</ol></li>
</ul>
</section>
</section>
<section id="material-and-methods" class="level1">
<h1>Material and methods</h1>
<section id="primary-census-of-flood-events" class="level2">
<h2 class="anchored" data-anchor-id="primary-census-of-flood-events">Primary census of flood events</h2>
<p>We collected Wikidata about floods, using the glitter R package (an API-client to the Wikidata SPARQL endpoint API) <span class="citation" data-cites="vaudor_glitter_2023">[@vaudor_glitter_2023]</span>. Wikidata is a free and collaborative knowledge base, structured as a graph of interconnected items representing physical entities, events, concepts or topics, associated to a unique identifier. These items are linked through properties forming statements describing the relationships between items and/or attributes. Each query we run on Wikidata can hence be viewed as a graph query, where we retrieve items and attributes and the relationships between them.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/fig-graph_query_complete.png" class="img-fluid figure-img"></p>
<figcaption>Figure 1: Wikidata queries represented as graphs. When properties were part of the Wikidata (wd) namespace, labels explaining their nature were displayed, instead of their codified property identifiers (e.g.&nbsp;“instance of” instead of “wdt:P31”)</figcaption>
</figure>
</div>
<p>We carried out a first Wikidata query (Figure 1.a) to get all instances of floods or subclasses of floods as well as a few descriptors of these. The events can be located through <code>coords</code> (geographical coordinates) <code>loc</code> (a location -that can be any type of geographical item documented in Wikidata, e.g.&nbsp;a city, region or country- and which in turn might provide coordinates), or simply through the <code>country</code> variable (which might also in turn provide coordinates). We used all these variables to try and provide coordinates for as many events as possible, with the greatest precision possible: we prioritized <code>coords</code> (when available) over coordinates corresponding to location, and coordinates corresponding to location (when available) to coordinates corresponding to country.</p>
<p>We carried out a second Wikidata query (Figure 1.b) for each flood listed by this first query, to gather information about its time of occurrence (wdt:P585), start time (wdt:P580) and end time (wdt:P582). We hence tried to provide a date for each of the events using either one of these previous items, prioritizing the date provided by time of occurrence (if available) over the average date between start time and end time (if both were available), average date between start time and end time over start time or end time (if only one was available), and start time or end time over four-digit words in the events’ label if present (as labels generally consist of a mention of type of event, time and place). Time-related information on Wikidata are specified with varying precision, which when regarding floods generally vary between dayly precision and yearly precision.</p>
<p>We carried out a third Wikidata query (Figure 1.c) for each country listed by the first query, to gather information about their coordinates, the languages used by their population (either official or used languages), Human Development Index (HDI), population and area.</p>
</section>
<section id="comparison-to-the-dartmouth-flood-observatory-data" class="level2">
<h2 class="anchored" data-anchor-id="comparison-to-the-dartmouth-flood-observatory-data">Comparison to the Dartmouth Flood Observatory data</h2>
<p>We wanted to confront the data about floods documented through Wikidata (WD) to the data gathered by the Dartmouth Flood Observatory (DFO) <span class="citation" data-cites="brakenridge_global_nodate">[@brakenridge_global_nodate]</span>. We downloaded the DFO dataset and curated it to make it more easily comparable to our WD dataset, especially regarding country labels. We then tried to match each event in WD to one event in DFO through the following algorithm</p>
<p>For each WD event <code>flood</code>:</p>
<ul>
<li>calculate the time difference between DFO events and <code>flood</code></li>
<li>calculate the distance between DFO events and <code>flood</code></li>
<li>check for all DFO events whether the time difference to <code>flood</code> is less than 400 days and the distance to <code>flood</code> is less than 400 kms (condition 1)</li>
<li>check for all DFO events whether the time difference to <code>flood</code> is less than 400 days and country matches country registered for <code>flood</code> (condition 2)</li>
<li>filter all DFO events to only keep those verifying condition 1 or condition 2</li>
<li>if several DFO events verify those conditions, retain only the one corresponding to lowest time difference to <code>flood</code>, and consider that this is the DFO event that matches <code>flood</code></li>
</ul>
<p>The rather high threshold of 400 days has been chosen to account both for the possibly low precision -sometimes, yearly precision- in dates, and the fact that flood events can be quite long, leading to heterogeneities in the way the date of occurrence is defined and recorded. The also rather high threshold of 400 kms has been chosen to account for the fact that Wikidata events are not always precisely located. The flood event might indeed be located through a location corresponding to the region centroid, or even country centroid. Using as an alternative to the distance the country of occurrence recorded in both datasets aimed at alleviating this problem of events located with very low spatial precision.</p>
</section>
<section id="statistical-analyses" class="level2">
<h2 class="anchored" data-anchor-id="statistical-analyses">Statistical analyses</h2>
<p>We ran all statistical analyses and produced graphics with the R software <span class="citation" data-cites="r_core_team_r_2024">[@r_core_team_r_2024]</span>. When comparing distributions through categories (associating this comparison with boxplots) we tested the difference of each category’s median with the other categories’ median using the Wilcoxon test, a non-parametric test based on ranks, in order not to rely on a normal distribution hypothesis or on asymptotic conditions. When we had more than two categories to compare, we compared one category to all other categories, pooling them. We generally considered models with two levels, the response depending on two categorical variables X_1 and X_2. We tested the significance of the difference in median of each level of X_1 against all other levels of X_1, and for each level of X_1, the difference in median of each level of X_2 against all other levels of X_2. We displayed on the graphics the difference in median for each group associated with a code for the p-value: <code>.</code>:p&lt;0.1, <code>*</code>:p&lt;0.05, <code>**</code>:p&lt;0.01, <code>***</code>:p&lt;0.001.</p>
</section>
<section id="text-analysis-of-wikipedia-pages" class="level2">
<h2 class="anchored" data-anchor-id="text-analysis-of-wikipedia-pages">Text analysis of Wikipedia pages</h2>
<p>We scraped the text (all the textual content in headers from level one (h1) to level 6 (h6) as well as paragraphs) from all listed Wikipedia pages, using the <code>rvest</code> R package <span class="citation" data-cites="wickham_rvest_2024">[@wickham_rvest_2024]</span>. We then translated them to English (if necessary) through Google Translate using the polyglotr R package <span class="citation" data-cites="iwan_polyglotr_2024">[@iwan_polyglotr_2024]</span>.</p>
<p>We tokenized the texts with the tidytext R package <span class="citation" data-cites="silge_tidytext_2016">[@silge_tidytext_2016]</span>, lemmatized words and filtered out stop words based on the Iramuteq English dictionnary <span class="citation" data-cites="ratinaud_iramuteq_2009">[@ratinaud_iramuteq_2009]</span>. We could then identify textual specificities based on various partitions of the corpus <span class="citation" data-cites="lafon_pierre_sur_1980 loiseau_textometry_2022">[@lafon_pierre_sur_1980; @loiseau_textometry_2022]</span>.</p>
<p>We used Reinert’s method <span class="citation" data-cites="reinert_alceste_1990">[@reinert_alceste_1990]</span> to classify segments of our corpus (consisting in successive parts of the Wikipedia articles, segmented in such a way that each contains 10 lemmatized, content words). To implement that method, we used the rainette package <span class="citation" data-cites="barnier_rainette_2023">[@barnier_rainette_2023]</span> and used its exploration tools to choose a meaningful and tractable number of classes. Each class is characterized as a collection of over-represented words, and we used them to label each class in a one-worded, synthetic way. We then used these labelled classes to examine the relationship between the flood characteristics and the topic contents of articles.</p>
</section>
<section id="multivariate-analysis" class="level2">
<h2 class="anchored" data-anchor-id="multivariate-analysis">Multivariate analysis</h2>
<p>We considered descriptors of the events’ characteristics and of the related Wikipedia articles to examine Hypotheses 2 and 3. To account for the multiple colinearities in our dataset, we carried out a principal component analysis (PCA) of variables (rank-transformed to avoid the influence of outliers) using the <code>FactoMineR</code> R package <span class="citation" data-cites="le_factominer_2008">[@le_factominer_2008]</span>. We also carried out some bivariate tests (based on simple linear regression) on these rank-transformed variables to further discuss the significance of the relationship between variables.</p>
</section>
<section id="output-datasets-and-online-app" class="level2">
<h2 class="anchored" data-anchor-id="output-datasets-and-online-app">Output datasets and online app</h2>
<p>The resulting tables can be consulted here:</p>
<p><a href="https://isig-apps.ens-lyon.fr/apps/lvaudor/WDWP_Floods/" target="_blank">link to app</a></p>
<p>The app provides a way to pick an event according to its characteristics and then consult in more detail the data associated with it (e.g.&nbsp;textual content and links to Wikidata and Wikipedia pages).</p>
<p>We have gathered and curated tables of data from both Wikidata and Wikipedia :</p>
<ul>
<li>wd_event: one row = one flood event (e.g.&nbsp;flood identifier, time, coordinates, country of occurrence, deathtoll)</li>
<li>wp_pages: one row = one Wikipedia page (e.g.&nbsp;flood identifier, page’s Uniform Resource Locator (URL), language, translated text of one article regarding a flood)</li>
<li>wp_revisions : one row = one revision of a Wikipedia page (e.g.&nbsp;page’s URL, date of edit, size of edit, editor)</li>
<li>wp_views: one row = one day of views of a Wikipedia page (e.g.&nbsp;page’s URL, day , number of daily views). This data is provided by one of Wikipedia’s API only dating from the first of July 2015.</li>
<li>wp_segments: one row = one segment of a Wikipedia page (e.g.&nbsp;page’s URL, translated text segment, topic of text segment)</li>
<li>countries: one row = one country * one language (e.g.&nbsp;country, official language, used languages, HDI)</li>
</ul>
</section>
</section>
<section id="hypotheses" class="level1">
<h1>Hypotheses</h1>
<p>We will explore the datasets with some hypotheses in mind, in particular:</p>
<ul>
<li><strong>Hypothesis 1</strong> (regarding recorded events). We expect the WD dataset to include less events than the DFO dataset. Indeed the DFO dataset records flood events primarily based on physical criteria, while one can argue that events are only recorded in WD when they reach some level of social or historical significance. We also expect the WD dataset to be somewhat biased towards events in countries with a higher HDI, as most crowdsourced web datasets.</li>
<li><strong>Hypothesis 2</strong> (regarding curation). The iterative, sometimes back-and-forth nature of the Wikipedia pages writing process (which we later refer to as curation) can be used as a measure of a particular effort having been devoted to the establishment of the current text and could thus be interpreted as a sign of possible controversy or debate in its writing process. As such, we expect curation to be linked to the characteristics of the articles and the events they describe. We hypothesize that curation will depend on the articles’ and corresponding events’ general characteristics (hypothesis 2a), in particular that it will be higher for articles that are longer (editing efforts focused on longer articles), written in a language local to the event, and dealing with events with a high deathtoll (more public scrutiny). We also consider other explanatory variables such as time (as standards for Wikipedia pages redaction might have evolved through time), HDI (as a proxy to the proportion of internet users in the population), affected country’s population and population density (as more public scrutiny and more people potentially physically affected by the flood could influence the curation process). We also hypothesize that the level of curation of an article will be correlated to the topics addressed in the article (hypothesis 2b). We hypothesize in particular that higher-quality articles will correspond to a higher level of curation and address topics which necessitate a deeper level of analysis (such as anticipation, governance, and hydrology) in higher proportions. We also expect higher-impacts events (in terms of deathtoll for instance) to cause this proportion to be higher, with complex issues around responsibility, causes, and adequacy of preventive measures only gaining attention when the damage is significant.</li>
<li><strong>Hypothesis 3</strong> (regarding number of views). We expect the short-term number of views of an article to be correlated to some of the articles’ characteristics such as the article’s being written in a language local to the event, article’s length, and curation. We expect that the number of views will be positively correlated to the level of curation of the article, as articles attracting more views are more likely to attract more scrutiny from editors. We expect the short-term number of views of pages to be higher in the local language, due to Wikipedia being used as an information source regarding the crisis unfolding and management. We also expect the number of views to reflect some characteristics of the events. For instance, we expect the number of views to be higher for events with a higher deathtoll, and/or events occurring in areas where the density of population is particularly high, as these events are more likely to be of interest to a larger audience. We have access to the number of views since July 2015 hence to explore this hypothesis we first filtered out all older events: we are thus able to quantify the number of views of various articles at the same stage in time from the moment the event occurred.</li>
</ul>
<!-- , although length and curation being measure on the latest state of development of articles rather than their state during their first three months of existence, they are probably to be interpreted more as consequences than causes. -->
<!-- To explore this relationship we sum the proportion in which these topics are addressed in each article and run a random forest regression model explaining this complex topics proportion.  -->
<!-- For each Wikipedia article, we consider the total number of views during the first three months following the creation of the page (which, for the events that have occurred after July 2015, generally corresponds to the first three months following the occurrence of the event). We refer to it hereafter as "short-term number of views". -->
</section>
<section id="results" class="level1">
<h1>Results</h1>
<section id="wikidata-1" class="level2">
<h2 class="anchored" data-anchor-id="wikidata-1">Wikidata</h2>
<section id="space-time-framework" class="level3">
<h3 class="anchored" data-anchor-id="space-time-framework">Space-time framework</h3>
<div class="cell" data-show="false">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>tiblocs<span class="ot">=</span><span class="fu">readRDS</span>(<span class="st">"data/transitory/precision_coords.RDS"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ntot=</span><span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop=</span><span class="fu">round</span>(n<span class="sc">/</span>ntot<span class="sc">*</span><span class="dv">100</span>,<span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>ntot)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>tibdates<span class="ot">=</span><span class="fu">readRDS</span>(<span class="st">"data/transitory/precision_dates.RDS"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date_from,date_precision) <span class="sc">%&gt;%</span> </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tally</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ntot=</span><span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop=</span><span class="fu">round</span>(n<span class="sc">/</span>ntot<span class="sc">*</span><span class="dv">100</span>,<span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>ntot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The initial query provided 904 Wikidata flood events. In terms of spatial precision, few events (16.1%) come with direct coordinates. Most coordinates for floods are inferred from their locations (places where they occur such as cities, regions, and mainly -52.2%- countries). Some events (10.7%) are not localized at all.</p>
<p>The date of most events is documented either directly or through the label of the event. Many events’ dates are provided with day precision (35.9%) but also an important proportion (38.4%) is provided with only annual precision.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>wm_full<span class="ot">=</span><span class="fu">readRDS</span>(<span class="st">"data/wm_full.RDS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>png 
  2 </code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/figure2-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><em>Figure 2 : Distribution of flood events through time A) all events dated with a year-accuracy B) events dated with a year-accuracy starting in 2000</em></p>
<p>Figure 2 shows that the distribution of flood events through time is quite heterogeneous, starting from medieval times to current events, with a large proportion of recent events (63.8% of events occurred after 1985, 53.4% occurred after 2005). Nevertheless it implies that some older events are documented, which is actually uncommon compared to other databases (263 events documented in the WD dataset occurred before 1985).</p>
</section>
<section id="comparison-to-dfo-data" class="level3">
<h3 class="anchored" data-anchor-id="comparison-to-dfo-data">Comparison to DFO data</h3>
<p>This section aims at addressing Hypothesis 1 regarding the conditions in which Wikidata records are created and how they compare to institutionally-curated records of floods.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#source("scripts/comp_dfo_wd.R")</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>wm_dfo_comparison<span class="ot">=</span><span class="fu">readRDS</span>(<span class="st">"data/wm_dfo_comparison.RDS"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_length=</span><span class="fu">ceiling</span>(total_length<span class="sc">/</span><span class="dv">1000</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>p1<span class="ot">=</span><span class="fu">ggplot</span>(wm_dfo_comparison,</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x=</span>HDI_class,<span class="at">fill=</span>in_data))<span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position=</span><span class="fu">position_dodge</span>())<span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">"dfo"</span><span class="ot">=</span>col_DFO,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"in_both"</span><span class="ot">=</span>col_DFO_WD,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"wd"</span><span class="ot">=</span>col_WD))<span class="sc">+</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">500</span>,<span class="dv">1000</span>,<span class="dv">1500</span>),</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"0"</span>,<span class="st">"   500"</span>,<span class="st">"   1000"</span>,<span class="st">"   1500"</span>))<span class="sc">+</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"number of events"</span>)<span class="sc">+</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"N"</span>)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>wm_dfo_comparison<span class="ot">=</span>wm_dfo_comparison <span class="sc">%&gt;%</span> </span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">deathtoll=</span><span class="fu">case_when</span>(<span class="fu">is.na</span>(deathtoll)<span class="sc">~</span>deathtoll_dfo,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>                   <span class="sc">!</span><span class="fu">is.na</span>(deathtoll)<span class="sc">~</span>deathtoll)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">HDI_class=</span><span class="fu">case_when</span>(<span class="fu">is.na</span>(HDI_class)<span class="sc">~</span><span class="st">"unknown"</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>                               <span class="cn">TRUE</span><span class="sc">~</span>HDI_class))</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>wm_dfo_comparison_summary<span class="ot">=</span>wm_dfo_comparison  <span class="sc">%&gt;%</span> </span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(HDI_class,in_data) <span class="sc">%&gt;%</span> </span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tally</span>()</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>tib_effect<span class="ot">=</span><span class="fu">calc_tib_summary</span>(<span class="at">tib=</span>wm_dfo_comparison,</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>                            <span class="at">group1=</span>HDI_class,</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>                            <span class="at">group2=</span>in_data, </span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>                            <span class="at">y=</span>deathtoll,</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>                            <span class="at">round=</span><span class="dv">10</span>,</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>                            <span class="at">d1name=</span><span class="cn">NULL</span>,</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>                            <span class="at">d2name=</span><span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'group1'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>p2<span class="ot">=</span><span class="fu">ggplot</span>(wm_dfo_comparison, </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x=</span>HDI_class,<span class="at">y=</span>deathtoll))<span class="sc">+</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data=</span>tib_effect <span class="sc">%&gt;%</span> <span class="fu">select</span>(no_group1) <span class="sc">%&gt;%</span> unique,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept=</span>no_group1),</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha=</span><span class="fl">0.5</span>,<span class="at">col=</span>col_DFO_WD, <span class="at">linewidth=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill=</span>in_data))<span class="sc">+</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data=</span>tib_effect <span class="sc">%&gt;%</span> <span class="fu">select</span>(group1,n) <span class="sc">%&gt;%</span> <span class="fu">unique</span>(),</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x=</span>group1,<span class="at">y=</span><span class="sc">-</span><span class="fl">0.5</span>,<span class="at">label=</span>n),</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span><span class="fl">0.8</span>),</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">size=</span><span class="dv">3</span>)<span class="sc">+</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data=</span>tib_effect <span class="sc">%&gt;%</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>              <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">"group1"</span>)) <span class="sc">%&gt;%</span> <span class="fu">unique</span>(),</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x=</span>group1,<span class="at">y=</span><span class="dv">30000</span>,<span class="at">label=</span>label_group1),</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">size=</span><span class="dv">4</span>,<span class="at">col=</span>col_DFO_WD)<span class="sc">+</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data=</span>tib_effect <span class="sc">%&gt;%</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>              <span class="fu">select</span>(group1,<span class="fu">contains</span>(<span class="st">"group2"</span>)) <span class="sc">%&gt;%</span> <span class="fu">unique</span>(),</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x=</span>group1,<span class="at">group=</span>group2,</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>                <span class="at">y=</span><span class="fu">rep</span>(<span class="fu">exp</span>(<span class="fu">c</span>(<span class="fl">12.2</span>,<span class="fl">12.7</span>,<span class="fl">13.2</span>)<span class="sc">-</span><span class="dv">1</span>),<span class="dv">5</span>),</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>                <span class="at">label=</span>label_group2),</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">size=</span><span class="dv">3</span>,</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>            <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span><span class="fl">0.8</span>))<span class="sc">+</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data=</span>tib_effect <span class="sc">%&gt;%</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>            <span class="fu">select</span>(group1,group2,n) <span class="sc">%&gt;%</span> <span class="fu">unique</span>(),</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>          <span class="fu">aes</span>(<span class="at">x=</span>group1,<span class="at">group=</span>group2,</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>              <span class="at">y=</span><span class="fl">0.1</span>,</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>              <span class="at">label=</span>n),</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>          <span class="at">size=</span><span class="dv">3</span>,</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>          <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span><span class="fl">0.8</span>))<span class="sc">+</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">trans=</span><span class="st">"log1p"</span>,</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limits=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1000000</span>),</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">10</span>,<span class="dv">100</span>,<span class="dv">1000</span>,<span class="dv">10000</span>,<span class="dv">100000</span>))<span class="sc">+</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">"dfo"</span><span class="ot">=</span>col_DFO,</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"in_both"</span><span class="ot">=</span>col_DFO_WD,</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"wd"</span><span class="ot">=</span>col_WD))</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>figure3<span class="ot">=</span>ggpubr<span class="sc">::</span><span class="fu">ggarrange</span>(p1,p2,<span class="at">nrow=</span><span class="dv">2</span>,<span class="at">ncol=</span><span class="dv">1</span>,<span class="at">common.legend=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 587 rows containing non-finite outside the scale range
(`stat_boxplot()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 15 rows containing missing values or values outside the scale range
(`geom_text()`).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">svglite</span>(<span class="st">"figures/figure3.svg"</span>, <span class="at">width=</span><span class="dv">1080</span><span class="sc">/</span>res, <span class="at">height=</span><span class="dv">1080</span><span class="sc">/</span>res)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>figure3</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>png 
  2 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>figure3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/figure3-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p><em>Figure 3 a) Number of flood events documented in Wikidata (wd), DFO (dfo) or both datasets according to our matching algorithm. The number of events is displayed according to the Human Development Index (HDI) class of the country where the event took place (countries are pooled in the first, second, third or fourth quartile). b) Deathtoll per event according to HDI class and occurrence in one or both datasets. The estimate considered for deathtoll comes either from the DFO dataset, or by default from the Wikidata dataset (some events are not associated to any deathtoll estimate, in which case they are excluded from this figure). Some events happened in places where the country name changed through time making it difficult to link them to a HDI value: these are the ones represented by an unknown HDI class.</em></p>
<p>To address Hypothesis 1 we compared the number of events in both datasets (WD and DFO) according to the Human Development Index of the country where the event took place. There is a total of 614 events only in Wikidata and 4883 only in DFO (499 in both). Figure 3.a shows that, compared to DFO, a large share of flood events recorded in Wikidata are associated with countries with higher HDI levels. In contrast, the distribution of events in the DFO dataset is more concentrated in the first and especially the second HDI quartiles. If floods were identified solely based on physical criteria, their spatial distribution would be expected to reflect the total flood-prone area within each HDI quartile. However, floods cannot be reduced to purely biophysical factors. A truly unbiased distribution of “socially significant” flood events would need to account for both the total flood-prone area within each HDI quartile (which likely varies greatly), and the spatial distribution of human populations. The DFO dataset primarily relies on physical criteria to define flood events, but also incorporates social indicators such as damage and deathtoll to assess the event’s significance. As such, we can consider DFO’s distribution of flood events as a relatively unbiased approximation of actual flood occurrence—at least more so than Wikidata’s distribution. This highlights the multiple criteria required to recognize a flood, but also the difficulty of reporting floods in a consistent way across all projects.</p>
<p>Figure 3.b shows that compared to DFO-documented events, events included in the WD dataset are generally associated with a higher deathtoll. For DFO-documented events, the lower the HDI class, the higher the deathtoll, which could be interpreted by impoverished countries having less resources and infrastructure to mitigate and respond to such disasters effectively, as well as more inadequate housing and settlement in vulnerable areas exacerbating the impact of floods on communities. In cases with high deathtoll, the census can also be less accurate, and possibly rounded to greater values, causing a certain bias in the count of victims. As for WD-documented events, the few ones which occurred in lowest HDI countries also correspond to (very) high deathtolls indeed, but so do the ones which have occurred in the richest countries and even more so the ones for which we do not have a value for HDI. In this last case, the events documented in Wikidata only are often historical ones like the 1931 China floods (wd:Q1150973). These floods occurred in the Republic of China (1912-1949), for which we failed to obtain an HDI value, and which were associated with very high and somewhat discussed deathtolls. This highlights the fact that the WD dataset is oriented towards events with high societal impact, which is not surprising given the nature of the project.</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'group1'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1404 rows containing non-finite outside the scale range
(`stat_boxplot()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: No shared levels found between `names(values)` of the manual scale and the
data's colour values.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 826 rows containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>png 
  2 </code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/figure4#-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p><em>Figure 4: a) Distribution of deathtolls estimates in Wikidata and DFO according to the estimates being paired or not (deathtoll estimates are paired when the events in Wikidata have been paired to an event in DFO). b) Comparison of deathtoll paired estimates in Wikidata and DFO for the same events. The symbol varies according to the deathtoll estimate in Wikidata being sourced, indicating a higher reliability of the estimate.</em></p>
<p>For some events we were able to find a match between the WD dataset and the DFO dataset, so that we could compare the deathtoll paired observations. Figure 4 shows that the deathtoll values are generally higher in the WD dataset than in the DFO dataset, which is consistent with the fact that the WD dataset is oriented towards events with high societal impact. However, the correlation between the deathtoll values in the two datasets is quite high. In particular, there is a portion of the matched events for which the recorded deathtoll is exactly the same (237 events i.e.&nbsp;47.49% of the paired events) or of the same order of magnitude (322 events i.e.&nbsp;64.53% of the paired events) which suggests not only that the pairing of events is mainly correct, despite the difficulty of joining completely independently designed datasets, but also that the WD dataset also deals with events with lower deathtoll values.</p>
</section>
</section>
<section id="wikipedia" class="level2">
<h2 class="anchored" data-anchor-id="wikipedia">Wikipedia</h2>
<section id="description" class="level3">
<h3 class="anchored" data-anchor-id="description">Description</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>Nwde_with_wpp<span class="ot">=</span>wp_pages <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(flood) <span class="sc">%&gt;%</span> </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tally</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>n_pages_in_english<span class="ot">=</span>wp_pages <span class="sc">%&gt;%</span> <span class="fu">filter</span>(lang<span class="sc">==</span><span class="st">"en"</span>) <span class="sc">%&gt;%</span> <span class="fu">nrow</span>()</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>n_pages_not_in_english<span class="ot">=</span><span class="fu">nrow</span>(wp_pages)<span class="sc">-</span>n_pages_in_english</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>n_pages_untranslatable<span class="ot">=</span>wp_pages <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(text) <span class="sc">&amp;</span> textt<span class="sc">==</span><span class="st">""</span>) <span class="sc">%&gt;%</span> <span class="fu">nrow</span>()</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>wpp_length_average<span class="ot">=</span>wp_pages <span class="sc">%&gt;%</span> <span class="fu">pull</span>(length) <span class="sc">%&gt;%</span> <span class="fu">mean</span>(<span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>wpp_length_quant50<span class="ot">=</span>wp_pages <span class="sc">%&gt;%</span> <span class="fu">pull</span>(length) <span class="sc">%&gt;%</span> <span class="fu">median</span>(<span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>wpp_length_quant10<span class="ot">=</span>wp_pages <span class="sc">%&gt;%</span> <span class="fu">pull</span>(length) <span class="sc">%&gt;%</span> <span class="fu">quantile</span>(<span class="fl">0.1</span>,<span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>wpp_length_quant90<span class="ot">=</span>wp_pages <span class="sc">%&gt;%</span> <span class="fu">pull</span>(length) <span class="sc">%&gt;%</span> <span class="fu">quantile</span>(<span class="fl">0.9</span>,<span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>wp_revisions<span class="ot">=</span><span class="fu">readRDS</span>(<span class="st">"data/transitory/wp_revisions.RDS"</span>)</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>Nwpr<span class="ot">=</span><span class="fu">nrow</span>(wp_revisions)</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>wp_revisions<span class="ot">=</span>wp_revisions <span class="sc">%&gt;%</span> </span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bot=</span>stringr<span class="sc">::</span><span class="fu">str_detect</span>(user_name,<span class="st">"B|bot"</span>))</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>Nwpr_humans<span class="ot">=</span>wp_revisions <span class="sc">%&gt;%</span> </span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>bot) <span class="sc">%&gt;%</span> </span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>Nwpu<span class="ot">=</span>wp_revisions <span class="sc">%&gt;%</span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(user_name) <span class="sc">%&gt;%</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>Nwpuh<span class="ot">=</span>wp_revisions <span class="sc">%&gt;%</span> </span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>bot) <span class="sc">%&gt;%</span> </span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(user_name) <span class="sc">%&gt;%</span></span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>There are 2983 Wikipedia pages associated to the Wikidata flood events (i.e.&nbsp;on average 2.52 Wikipedia pages per event). 805 flood events are associated to at least one Wikipedia page. 540 Wikipedia pages are in English. Out of the 2443 remaining pages, we could translate most pages to English, except 0 pages which were in languages that Google Translate did not support. We based all subsequent textometric analyses on the texts in English, either natively so or translated.</p>
<p>The average length of articles (in English or translated to English) is 3738 characters (median: 1785. The 10% shortest articles represent less than 428 characters and the 10% longest ones are more than 7972 characters long.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>tib_editors<span class="ot">=</span>wp_revisions <span class="sc">%&gt;%</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>bot) <span class="sc">%&gt;%</span> </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(user_name) <span class="sc">%&gt;%</span> </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">number_of_articles_edited_raw=</span><span class="fu">n_distinct</span>(article),<span class="at">.groups=</span><span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">nusertot=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">number_of_articles_edited=</span><span class="fu">cut</span>(number_of_articles_edited_raw,</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>                                       <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">400</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(number_of_articles_edited,nusertot) <span class="sc">%&gt;%</span> </span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">number_of_editors=</span><span class="fu">n</span>(),<span class="at">.groups=</span><span class="st">"drop"</span>,</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">max_number_of_articles=</span><span class="fu">max</span>(number_of_articles_edited_raw)) <span class="sc">%&gt;%</span> </span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion_of_editors=</span><span class="fu">round</span>(number_of_editors<span class="sc">/</span>nusertot<span class="sc">*</span><span class="dv">100</span>,<span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>There are 225336 revisions that produced the Wikipedia pages as they appear to this date, which represents on average 76 revisions per page. 182412 (80.95%) of these revisions appear to have been done by human editors and not bots (Wikipedia usernames do not contain the strings “bot” or “Bot”). There are 44642 distinct editors, 40288 (90.25%) of which appear to be humans. Each of the human editors in our corpus is responsible for 4.53 edits on average. Most human editors (69.03%) only edited one article, 27.39% edited up to 5 articles and 3.58% edited more than 5 different articles about floods.</p>
</section>
<section id="wikipedia-articles-history" class="level3">
<h3 class="anchored" data-anchor-id="wikipedia-articles-history">Wikipedia articles’ history</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>png 
  2 </code></pre>
</div>
</div>
<p><em>Figure 5: Time delay between events and a) revisions to the Wikipedia articles documenting them b) views of the Wikipedia articles, displayed according to the period in which the event occurred. These delays are indeed all the more dependent on this period that, for instance, events which occurred before 2000 cannot correspond to edits in the first year after their occurrence since Wikipedia was created in 2001, and that for events which occurred before 2014 we do not know the views in the first few months after the event (since the views are only accessible starting from 2015). The grey areas thus correspond to unobservable delays. Also, the delay might in some cases appear negative, because the edits or views about an event began before the recorded, average date for the event, hinting to an event with long duration or event with a low-precision recorded date. The color indicates the precision of the recorded event date (it can be accurate to the day, month or year).</em></p>
<p>Figure 5.a shows that most of the writing of Wikipedia articles related to flood events take place during the month of their occurrence (except of course when Wikipedia did not exist (before 2001) or when it was still moderately used to document current events. This highlights the fact that Wikipedia articles about recent flood events are written as news rather than encyclopedic reports on past events. Figure 5.b shows that views (consultations) of the pages, on the other hand, are distributed more evenly through time. We cannot access the data relative to views before July 2015 so that early views of articles dated before 2015 cannot be known. For articles dated after 2015, there is a peak in the number of views in the 1.5 months after the fact, but the data about the events between 2015 and 2020 shows that the total number of views is far more important in the long run (at least 6 months after the fact) than this initial number of views.</p>
<!-- Conversely, one can argue that articles exhibiting a large proportion of revisions implemented a long time after the occurrence of the event could be indicative of an ongoing debate or controversy, or be the ongoing focus of some social or human interest.  -->
</section>
<section id="wikipedia-articles-topics" class="level3">
<h3 class="anchored" data-anchor-id="wikipedia-articles-topics">Wikipedia articles’ topics</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>png 
  2 </code></pre>
</div>
</div>
<p><em>Figure 6: Topics identified by the Reinert classification method.</em></p>
<p>Figure 6 shows the topics identified by the Reinert classification method. Based on the over-represented terms in each cluster we propose the following labelling of the classes: ‘governance’ for cluster 1, ‘relief’ for cluster 2, ‘damage’ for cluster 3, ‘hydrology’ for cluster 4, ‘anticipation’ for cluster 5, and ‘weather’ for cluster 6.</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'group1'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>png 
  2 </code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/figure7,%20plot_topic_per_length-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><em>Figure 7: Link between total article’s length and topics identified by the Reinert classification method. The articles are classified into 4 categories according to their lengths k (number of segments used for the Reinert classification and identification of topics). The 25% shortest articles represent 1&lt;k&lt;=4 segments while the 25% longest represent 26&lt;k&lt;860 segments. The proportion of segments falling into each category is calculated and the distribution of these proportions is displayed through boxplots for each article length category. The plus signs correspond to the median proportions of topics throughout all articles irrespective of articles’ length. The underlying model is proportion~topic+length_category. For each topic the difference in median due to length_category is represented by the gap between the + sign and the mid-line of each boxplot: this difference is tested through a Wilcoxon rank test and the result is displayed in the plot.</em></p>
<p>Figure 7 shows that the length of the article is probably a very important factor in the topics addressed (or conversely, the topics addressed determine the length of the article), with shorter articles corresponding to factual statements regarding physical features of the event (weather), and justifying reporting that event based on its consequences (damage), while longer articles might convey more extensive reports on the physical causes (hydrology) and management of the crisis (anticipation, governance, relief).</p>
</section>
<section id="curation" class="level3">
<h3 class="anchored" data-anchor-id="curation">Curation</h3>
<p>This section aims at addressing Hypothesis 2 regarding the curation of articles and its relationship with the events’ and articles’ other characteristics.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>png 
  2 </code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/figure8-1.png" class="img-fluid figure-img" width="864"></p>
</figure>
</div>
</div>
</div>
<p><em>Figure 8 Total length of articles as a function of number of edits. The residuals of these relationship correspond to a relative mean edit length, and curation is calculated as minus the residuals (normalized to range from -1 to 1). The articles in language ‘simple’ (for ‘simple English’) being destined to be particularly synthetic, we did not take include them in the model.</em></p>
<p>Figure 8 shows that beyond a few edits (here, we consider the threshold is 10), the total length for an article depends on the total number of edits for that same article, in an approximately linear relationship with both variables being log-transformed. The more edits a page has undergone, the lower the mean edit length: there is a tendency towards lower mean edit length as the page ‘matures’, with edits in a more advanced writing stage corresponding to suppressions, corrections, or slight modifications while edits at the beginning of the writing process tend to be more frequently text additions. We consider the difference between actual mean edit length edit and predicted mean edit length (based on number of edits) as a measure of relative edit length (it corresponds to a measure of mean edit length decorrelated from this previously described writing stage effect). We calculate the curation score as corresponding to minus the relative edit length (i.e.&nbsp;high level of curation corresponds to smaller-sized edits). These residuals are normalized to correspond to scores ranging from -1 (rather lowly curated articles) to 1 (very highly curated articles). These curation scores are only available for articles that have undergone at least 10 edits, so that article stubs created mainly from an automatic translation process from another Wikipedia page are not included in the analysis of curation effects. Of course there is a strong correlation between the curation as we calculated it and the total length of the article, so we decorrelated it of the article length using the residuals of a linear regression of curation vs log-length of the article. Indeed we want to use both descriptors in the following analyses, as they are not redundant: curation is a measure of the quality of the edits, while length is a measure of the amount of information contained in the article.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>wp_pages_complete<span class="ot">=</span><span class="fu">readRDS</span>(<span class="st">"data/wp_pages_complete.RDS"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="linking-wikipedia-pages-characteristics-and-events-characteristics" class="level2">
<h2 class="anchored" data-anchor-id="linking-wikipedia-pages-characteristics-and-events-characteristics">Linking Wikipedia pages characteristics and events characteristics</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(questionable)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attachement du package : 'questionable'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>L'objet suivant est masqué depuis 'package:stats':

    biplot</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(factoextra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Welcome! Want to learn more? See two factoextra-related books at https://goo.gl/ve3WBa</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(FactoMineR)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>wp_pages_complete<span class="ot">=</span><span class="fu">readRDS</span>(<span class="st">"data/wp_pages_complete.RDS"</span>)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>data<span class="ot">=</span>wp_pages_complete <span class="sc">%&gt;%</span> </span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(article,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>         local,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>         year,</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>         length,</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>         deathtoll,</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>         HDI,</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>         population,</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>         density,</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>         curation,</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">views=</span>mean_views_f3months,</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>         complex_topics) <span class="sc">%&gt;%</span>  </span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>()</span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>curationres<span class="ot">=</span><span class="fu">lm</span>(curation<span class="sc">~</span><span class="fu">log10</span>(length),<span class="at">data=</span>data)<span class="sc">$</span>residuals </span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>data<span class="ot">=</span>data <span class="sc">%&gt;%</span> </span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">curation=</span>curationres) <span class="sc">%&gt;%</span> </span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>dataPCA<span class="ot">=</span>data <span class="sc">%&gt;%</span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>article) <span class="sc">%&gt;%</span> </span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">local=</span><span class="fu">as.numeric</span>(local)) </span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>datPCAranks<span class="ot">=</span>dataPCA <span class="sc">%&gt;%</span> </span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year=</span><span class="fu">rank</span>(year),</span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>         <span class="at">length=</span><span class="fu">rank</span>(length),</span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a>         <span class="at">HDI=</span><span class="fu">rank</span>(HDI),</span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">population=</span><span class="fu">rank</span>(population),</span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>         <span class="at">density=</span><span class="fu">rank</span>(density),</span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a>         <span class="at">deathtoll=</span><span class="fu">rank</span>(deathtoll),</span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">curation=</span><span class="fu">rank</span>(curation),</span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a>         <span class="at">complex_topics=</span><span class="fu">rank</span>(complex_topics),</span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a>         <span class="at">views=</span><span class="fu">rank</span>(views)) </span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a>resPCA<span class="ot">=</span><span class="fu">PCA</span>(datPCAranks) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-1-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>percent<span class="ot">=</span><span class="fu">round</span>(resPCA<span class="sc">$</span>eig[,<span class="dv">2</span>],<span class="dv">1</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>p1<span class="ot">=</span><span class="fu">fviz_pca_var</span>(resPCA, <span class="at">col.var =</span> <span class="st">"contrib"</span>) <span class="sc">+</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="fu">paste0</span>(<span class="st">"Principal Component 1 ("</span>,percent[<span class="dv">1</span>],<span class="st">"%)"</span>),</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="fu">paste0</span>(<span class="st">"Principal Component 2 ("</span>,percent[<span class="dv">2</span>],<span class="st">"%)"</span>)) <span class="sc">+</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Hmisc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attachement du package : 'Hmisc'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Les objets suivants sont masqués depuis 'package:dplyr':

    src, summarize</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Les objets suivants sont masqués depuis 'package:base':

    format.pval, units</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggcorrplot)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">rcorr</span>(<span class="fu">as.matrix</span>(datPCAranks))  <span class="co"># X = data.frame ou matrice</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="fu">diag</span>(res<span class="sc">$</span>P)<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>p2<span class="ot">=</span><span class="fu">ggcorrplot</span>(res<span class="sc">$</span>r,</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">p.mat=</span>res<span class="sc">$</span>P,</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">insig=</span><span class="st">"blank"</span>,<span class="at">hc.order=</span><span class="cn">TRUE</span>)</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>p2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-1-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(p1,p2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-1-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Regarding Hypothesis 2 and as expected, curation is linked to the characteristics of the articles and the events they describe. curation is heavily negatively correlated to the articles’ length and also to other article’s characteristics such as the proportion of complex topics in an article. Curation is higher for articles written in a language local to the event. On the other hand, curation is rather lowly correlated to deathtoll, population and population density, or even views, which suggests that these variable which we had identified as causing more scrutiny and.</p>
<p>##ICI</p>
<p>We also consider other explanatory variables such as time (as standards for Wikipedia pages redaction might have evolved through time), HDI (as a proxy to the proportion of internet users in the population), affected country’s population and population density (as more public scrutiny and more people potentially physically affected by the flood could influence the curation process). We also hypothesize that the level of curation of an article will be correlated to the topics addressed in the article (hypothesis 2b). We hypothesize in particular that higher-quality articles will correspond to a higher level of curation and address topics which necessitate a deeper level of analysis (such as anticipation, governance, and hydrology) in higher proportions. We also expect higher-impacts events (in terms of deathtoll for instance) to cause this proportion to be higher, with complex issues around responsibility, causes, and adequacy of preventive measures only gaining attention when the damage is significant. - <strong>Hypothesis 3</strong> (regarding number of views). We expect the short-term number of views of an article to be correlated to some of the articles’ characteristics such as the article’s being written in a language local to the event, article’s length, and curation. We expect that the number of views will be positively correlated to the level of curation of the article, as articles attracting more views are more likely to attract more scrutiny from editors. We expect the short-term number of views of pages to be higher in the local language, due to Wikipedia being used as an information source regarding the crisis unfolding and management. We also expect the number of views to reflect some characteristics of the events. For instance, we expect the number of views to be higher for events with a higher deathtoll, and/or events occurring in areas where the density of population is particularly high, as these events are more likely to be of interest to a larger audience. We have access to the number of views since July 2015 hence to explore this hypothesis we first filtered out all older events: we are thus able to quantify the number of views of various articles at the same stage in time from the moment the event occurred.</p>
</section>
</section>
<section id="discussion" class="level1">
<h1>Discussion</h1>
<p>This study demonstrates the possibility to list and collect information on flood events on a large temporal and spatial scale through Wikidata, and Wikipedia. Although these data exhibit some heterogeneity <span class="citation" data-cites="lorini_uneven_2020 ruprechter_poor_2023">[@lorini_uneven_2020; @ruprechter_poor_2023]</span> due to economic and digital inequities, being able to rely on a preexistent, rich global dataset spanning a large time period is still a priceless asset in studying floods, and could be a first step to better-quality curated datasets. Besides, large-scale institutional data sources themselves are not immune to spatial heterogeneities due to scarcity of research activity in some areas, linguistic barriers, varying degrees of public investment in disaster management, or other sources of environmental, political and social inequities. The overcoming of all these difficulties require an ongoing specialist effort which might not always be guaranteed or easy to sustain.</p>
<p>Linked Open Data such as Wikidata hold great interest for the study of natural or social events due to their inherent ability to offer contextual information to documented items. Linking semantically events when they are documented in fundamentally different datasets (such as DFO and Wikidata) might remain very difficult. Nevertheless, the interconnected nature of Wikidata’s model (as a knowledge graph) as well as their link to other data silos in the Linked Open Data framework allow users to access additional information or related resources linked to a particular event. In particular, the present study demonstrates the strength of such a data source to provide context on a global scale (social context, in particular) through the integration of Wikipedia discourse elements.</p>
<p>In the present study we focused on the extrinsic reasons why entries about floods existed in Wikidata and Wikipedia, discussing it as indicators of the events’ social significance. These platforms also provide guidance of their own as to which items are notable enough to warrant the existence of, primarily, Wikipedia pages <span class="citation" data-cites="wikipedia_citing_2024">[@wikipedia_citing_2024]</span> and subsequently Wikidata pages (as the first condition to the existence of an item for Wikidata is that it should have a link to another Wikimedia-related project e.g.&nbsp;Wikipedia). The criteria for the existence of a page in Wikipedia might differ across language editions but share the same general principles: a subject typically needs to have received significant coverage from reliable, independent sources to be considered notable, information must be verifiable through reliable, independent, and trustworthy sources, and articles must be written from a neutral perspective, presenting all significant views fairly and without bias. The existence of a page in Wikipedia and Wikidata is thus a strong indicator of the event’s notability, but it might be a bit restrictive compared to other lists of events that do not need to comply with as many criteria. Incidentally, Wikipedia itself does in fact offer pages that list items in certain categories, and in particular lists of floods <span class="citation" data-cites="wikipedia_list_2024">[e.g. @wikipedia_list_2024]</span>, which might be a good source of information for events that are not as well documented.</p>
<p>This study hints at Wikipedia articles being generally less opinionated than one might think. Wikipedia’s content is indeed based on verifiable sources and strives to present information in a neutral and unbiased manner. While individual contributors may have their own perspectives, Wikipedia’s community guidelines emphasize the importance of maintaining a neutral point of view in articles. Editors are encouraged to cite reliable sources and provide balanced coverage of topics to ensure accuracy and verified, factual content. Here, the possibly controversial topics in the narration of floods (governance, relief, hydrology) are finally less represented in the articles with high levels of curation. This means that a study with a particular interest in debates or controversies would need to rely either on sources of information outside Wikipedia or more specifically on the discussion pages of or revisions history of Wikipedia articles (rather than final article’s content).</p>
<p>The difficulty we faced with the spatial information available in Wikidata regarding floods demonstrates it is not, as such and on its own, a really convenient and rich data source for spatial analysis, which is not entirely surprising as it is not primarily designed for this purpose. This limitation could be overcome by the use of other data sources, such as OpenStreetMap, which is more spatially oriented as a community-driven mapping initiative, and akin in principles to Wikipedia. However, although OpenStreetMap would be a suitable source of spatial data for Wikidata items corresponding to physical objects, it does not deal directly documents events: OpenStreetMap disaster-related projects such as the ones of the Humanitarian OpenStreetMap Team rather focus on making sure that places and people are well mapped throughout the world to help provide relief or anticipate future crises <span class="citation" data-cites="specht_codification_2022">[@specht_codification_2022]</span>. Whatever the database’s structure though, providing spatial information regarding an event (such as a flood) is actually not a trivial task, as it requires the definition (through time) of the event’s spatial extent, location(s), and/or impact area(s). Actually, using Wikipedia pages as a source of information on floods could be a good way to overcome this limitation, as the articles often provide a detailed textual description of the event’s impact area(s) and location(s). Nevertheless, extracting a map from each of the pages and inferring a standardized location from it would probably have arisen many methodological but also semantic questions similar to those surrounding narrative maps <span class="citation" data-cites="caquard_cartography_2013">[@caquard_cartography_2013]</span>.</p>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>This study demonstrates that Wikidata and Wikipedia can be used as a source of valuable information on flood events. In particular, the importance and stakes associated to floods can be inferred both from direct (Wikidata) and indirect (Wikipedia) metrics. It could support these data being used to study other kinds of events or even topics, as it demonstrates in particular their ability to provide (con)textual information on these on a wide or even global scale, despite some need for adjustement in the analysis due to possible problems of representativity or precision.</p>
<section id="acknowledgements" class="level3">
<h3 class="anchored" data-anchor-id="acknowledgements">Acknowledgements</h3>
<!-- This work is founded by the French National Research Agency (ANR) (Project GloUrb n° ANR-22-CE03-0005). It is also cofounded by the Labex IMU (ANR-10-LABX-0088) and the EUR H2O’Lyon (ANR-17-EURE-0018) of Université de Lyon, within the programme ‘Investissements d’Avenir’ operated by ANR. -->
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>